(this.webpackJsonpmqtt=this.webpackJsonpmqtt||[]).push([[0],{1350:function(e,t,n){},1351:function(e,t,n){},1352:function(e,t,n){},1353:function(e,t,n){},1354:function(e,t,n){},1355:function(e,t,n){},1356:function(e,t,n){},1357:function(e,t,n){},1358:function(e,t,n){},1359:function(e,t,n){},1360:function(e,t,n){},1361:function(e,t,n){},1362:function(e,t,n){},1393:function(e,t,n){},1394:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(31),a=n.n(r),i=n(2),o=n(69),s=n(74),u=n(1397),l="TOPIC_INIT",b="HANDLE_TOPIC_INIT",d="TOPIC_ADD",j="HANDLE_TOPIC_ADD",p="TOPIC_UPDATE",O="HANDLE_TOPIC_UPDATE",f="TOPIC_REMOVE",h="HANDLE_TOPIC_REMOVE",v="HANDLE_PUBLISH_TOPIC",m=function(e){return{type:v,payload:e}},y="HANDLE_CREATE_TOPIC",x=function(e){return{type:y,payload:e}},E="HANDLE_DELETE_TOPIC",_=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},T=function(e){for(var t=e+"=",n=document.cookie.split(";"),c=0;c<n.length;c++){for(var r=n[c];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""},C=function(e){return null==e.name?"Topic is missing a 'name'":"string"!==_(e.name)?"Topic 'name' is not a 'string'":null!=!e.type||"Topic is missing a 'type'"},N=Object(u.a)((function(e){return e.pipe(Object(s.a)(b),Object(o.a)((function(e){var t=e.payload;if(void 0==t)throw"".concat(b," ~ 'payload' is not set !");if("array"==!_(t))throw"".concat(b," ~ 'payload' must be an 'array' of 'Topic' objects !");return t.forEach((function(e){if(!0!==C(e))throw"".concat(b," ~ ").concat(C(e))})),{type:l,payload:t}})))}),(function(e,t){return e.pipe(Object(s.a)(j),Object(o.a)((function(e){var n=e.payload;if(void 0==n)throw"".concat(j," ~ 'payload' is not set !");if("object"==!_(n))throw"".concat(j," ~ 'payload' must be a 'Topic' object !");if(!0!==C(n))throw"".concat(j," ~ ").concat(C(n));return t.value.topics.find((function(e){return e.name===n.name&&e.type===n.type}))?{type:"ABORT_TOPIC_ADD",payload:{response:"Topic already exists."}}:{type:d,payload:n}})))}),(function(e){return e.pipe(Object(s.a)(O),Object(o.a)((function(e){var t=e.payload;if(void 0==t)throw"".concat(O," ~ 'payload' is not set !");if("object"===!_(t))throw"".concat(O," ~ 'payload' must be a 'Topic' object !");if(null==t.name)throw"".concat(O," ~ 'payload' is missing a 'name' !");if("string"===!_(t.name))throw"".concat(O," ~ 'payload.name' must be a 'string' !");if(null==t.value)throw"".concat(O," ~ 'payload' is missing a 'value' !");var n=t.name,c=t.value;return{type:p,payload:{name:n,value:c}}})))}),(function(e,t){return e.pipe(Object(s.a)(E),Object(o.a)((function(e){var n=e.payload;if(void 0==n)throw"".concat(E," ~ 'payload' is not set !");if(null==n.name)throw"".concat(E," ~ 'payload' is missing a 'name' !");if("string"===!_(n.name))throw"".concat(E," ~ 'payload.name' must be a 'string' !");if(null==n.type)throw"".concat(E," ~ 'payload' is missing a 'type' !");if("string"===!_(n.type))throw"".concat(E," ~ 'payload.type' must be a 'string' !");return t.value.server.WEBSERVER.socket.emit(E,n),{type:"SENDING_DELETE_TOPIC_REQUEST_TO_SERVER"}})))}),(function(e){return e.pipe(Object(s.a)(h),Object(o.a)((function(e){var t=e.payload;if(void 0==t)throw"".concat(h," ~ 'payload' is not set !");if(null==t.name)throw"".concat(h," ~ 'payload' is missing a 'name' !");if("string"===!_(t.name))throw"".concat(h," ~ 'payload.name' must be a 'string' !");if(t.type&&"string"===!_(t.type))throw"".concat(h," ~ 'payload.type' must be a 'string' !");return{type:f,payload:t}})))})),g=n(3),R=n(41),w="RESET",S="SCREEN_UPDATE_TO_MOBILE",P="HANDLE_SCREEN_UPDATE_TO_MOBILE",I="SCREEN_UPDATE_TO_DESKTOP",D="HANDLE_SCREEN_UPDATE_TO_DESKTOP",A="CONTROL_PANEL_OPEN",M="HANDLE_CONTROL_PANEL_OPEN",L="CONTROL_PANEL_CLOSE",k="HANDLE_CONTROL_PANEL_CLOSE",H="CONSTRUCTOR_OPEN",U="HANDLE_CONSTRUCTOR_OPEN",W="CONSTRUCTOR_CLOSE",B="HANDLE_CONSTRUCTOR_CLOSE",V=function(){return{type:B}},z=[],Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case l:return n;case d:return[].concat(Object(R.a)(e),[n]);case p:return e.map((function(e){return e.name!=n.name?e:Object(g.a)(Object(g.a)({},e),{},{value:n.value})}));case f:return console.log(n),e.filter((function(e){return!(e.name===n.name&&n.type&&e.type===n.type)}));case w:return z;default:return e}},J="SEED",K="HANDLE_SEED",F="AUTHENTICATE_USER",G="HANDLE_AUTHENTICATE_USER",q="HANDLE_AUTHENTICATION_REQUEST",X="WEBSERVER_SOCKET_INIT",Y="HANDLE_WEBSERVER_SOCKET_INIT",Z="WEBSERVER_CONNECTED",$="HANDLE_WEBSERVER_CONNECTED",ee="WEBSERVER_DISCONNECTED",te="HANDLE_WEBSERVER_DISCONNECTED",ne="MQTT_CONNECTED",ce="HANDLE_MQTT_CONNECTED",re="MQTT_DISCONNECTED",ae="HANDLE_MQTT_DISCONNECTED",ie="HANDLE_DISPATCH_ACTION",oe=Object(u.a)((function(e){return e.pipe(Object(s.a)(K),Object(o.a)((function(e){var t=e.payload;if(console.log(t),void 0==t)throw"".concat(K," ~ 'payload' is not set !");if(null==t.seed)throw"".concat(K," ~ 'payload' is missing a 'seed' !");if("string"===!_(t.name))throw"".concat(K," ~ 'payload.seed' must be a 'string' !");return T(J)==t.seed&&window.location.reload(),{type:J}})))}),(function(e,t){return e.pipe(Object(s.a)(v),Object(o.a)((function(e){var n=e.payload,c=t.value.server.WEBSERVER.socket;if(void 0==n)throw"".concat(v," ~ 'payload' is not set !");if(null==n.name)throw"".concat(v," ~ 'payload' is missing a 'name' !");if("string"===!_(n.name))throw"".concat(v," ~ 'payload.name' must be a 'string' !");if(null==n.value)throw"".concat(v," ~ 'payload' is missing a 'value' !");return c.emit(v,{topic:n.name,message:n.value}),{type:"SENDING_PUBLISH_REQUEST_TO_SERVER"}})))}),(function(e,t){return e.pipe(Object(s.a)(q),Object(o.a)((function(e){var n=e.payload;return t.value.server.WEBSERVER.socket.emit(G,{password:n}),{type:"SENDING_AUTHENTICATION_REQUEST_TO_SERVER"}})))}),(function(e){return e.pipe(Object(s.a)(G),Object(o.a)((function(e){return{type:F}})))}),(function(e){return e.pipe(Object(s.a)(ce),Object(o.a)((function(e){return{type:ne}})))}),(function(e){return e.pipe(Object(s.a)(ae),Object(o.a)((function(e){return{type:re}})))}),(function(e){return e.pipe(Object(s.a)(Y),Object(o.a)((function(e){var t=e.payload;if(void 0==t)throw"".concat(Y," ~ 'payload' is not set !");if(null==t.socket)throw"".concat(Y," ~ 'payload' is missing the 'socket' !");return{type:X,payload:t}})))}),(function(e){return e.pipe(Object(s.a)($),Object(o.a)((function(e){return{type:Z}})))}),(function(e){return e.pipe(Object(s.a)(te),Object(o.a)((function(e){return{type:ee}})))}),(function(e,t){return e.pipe(Object(s.a)(y),Object(o.a)((function(e){var n=e.payload;if(void 0==n)throw"".concat(y," ~ 'payload' is not set !");if(null==n.name)throw"".concat(y," ~ 'payload' is missing a 'name' !");if("string"===!_(n.name))throw"".concat(y," ~ 'payload.name' must be a 'string' !");if(null==n.type)throw"".concat(y," ~ 'payload' is missing a 'type' !");return t.value.server.WEBSERVER.socket.emit(y,n),{type:"SENDING_CREATE_TOPIC_REQUEST_TO_SERVER"}})))}),(function(e){return e.pipe(Object(s.a)(ie),Object(o.a)((function(e){var t=e.payload;if(void 0==t)throw"".concat(ie," ~ 'payload' is not set !");return t})))})),se=n(10),ue={isConnected:!1},le={isConnected:!1,isAdmin:!1,socket:null},be=Object(se.combineReducers)({MQTT:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(g.a)(Object(g.a)({},e),{},{isConnected:!0});case re:return Object(g.a)(Object(g.a)({},e),{},{isConnected:!1});default:return e}},WEBSERVER:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(g.a)(Object(g.a)({},e),{},{socket:t.payload.socket});case Z:return Object(g.a)(Object(g.a)({},e),{},{isConnected:!0});case ee:return Object(g.a)(Object(g.a)({},e),{},{isConnected:!1});case F:return Object(g.a)(Object(g.a)({},e),{},{isAdmin:!0});case w:return Object(g.a)(Object(g.a)({},e),{},{isAdmin:!1});default:return e}}}),de=Object(u.a)((function(e){return e.pipe(Object(s.a)("HANDLE_RESET"),Object(o.a)((function(e){return{type:w}})))}),(function(e){return e.pipe(Object(s.a)(D),Object(o.a)((function(e){return{type:I}})))}),(function(e){return e.pipe(Object(s.a)(P),Object(o.a)((function(e){return{type:S}})))}),(function(e){return e.pipe(Object(s.a)(M),Object(o.a)((function(e){return{type:A}})))}),(function(e){return e.pipe(Object(s.a)(k),Object(o.a)((function(e){return{type:L}})))}),(function(e){return e.pipe(Object(s.a)(U),Object(o.a)((function(e){return{type:H}})))}),(function(e){return e.pipe(Object(s.a)(B),Object(o.a)((function(e){return{type:W}})))})),je={isMobile:null},pe={isOpen:!1},Oe={isOpen:!1},fe=Object(se.combineReducers)({screen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(g.a)(Object(g.a)({},e),{},{isMobile:!0});case I:return Object(g.a)(Object(g.a)({},e),{},{isMobile:!1});default:return e}},controlPanel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(g.a)(Object(g.a)({},e),{},{isOpen:!0});case L:return Object(g.a)(Object(g.a)({},e),{},{isOpen:!1});case w:return pe;default:return e}},field_constructor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(g.a)(Object(g.a)({},e),{},{isOpen:!0});case W:return Object(g.a)(Object(g.a)({},e),{},{isOpen:!1});case w:return Oe;default:return e}}}),he={name:{_type:"string"},value:{_type:"string"}},ve=Object(g.a)({},he),me=Object(g.a)({},he),ye=Object(g.a)(Object(g.a)({},he),{},{attributes:{value:{_type:"string",_default:"BUTTON_CLICK"}}}),xe=Object(g.a)(Object(g.a)({},he),{},{attributes:{values:{_type:"array",_of:"string",_default:[]}}}),Ee=Object(g.a)(Object(g.a)({},he),{},{attributes:{min:{_type:"number",_default:"-20"},max:{_type:"number",_default:"50"}}}),_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:ve,json:me,button:ye,swithc:xe,thermometer:Ee};return e},Te=n(70),Ce=n(1396),Ne=Object(Ce.a)(),ge=Object(se.combineReducers)({topics:Q,server:be,general:fe,fields:_e}),Re=Object(u.a)(N,oe,de),we=Object(se.createStore)(ge,Object(Te.composeWithDevTools)(Object(se.applyMiddleware)(Ne)));Ne.run(Re);n(85);var Se=n(8),Pe=(n(86),n(1)),Ie=Object(i.b)((function(e){return{isOpen:e.general.controlPanel.isOpen}}),(function(e){return{handleControlPanelOpen:function(){e({type:M})},handleControlPanelClose:function(){e({type:k})}}}))((function(e){var t=e.type,n=void 0===t?"open":t,c=e.color,r=e.size,a=void 0===r?42:r,i=e.isOpen,o=e.handleControlPanelOpen,s=e.handleControlPanelClose;return Object(Pe.jsxs)("div",{className:"control-panel__button btn--".concat(n),style:{width:a,height:a},onClick:function(){"open"==n&&o(),"close"==n&&s(),"toggle"==n&&(i?s():o())},children:["open"==n&&Object(Pe.jsx)(Se.Settings,{size:a,color:c||"var(--color-blue)"}),"close"==n&&Object(Pe.jsx)(Se.ChevronsLeft,{size:42,color:c||"#222"})]})})),De=(n(1350),Object(i.b)((function(e){return{screen:e.general}}))((function(e){var t=e.screen;return Object(Pe.jsxs)("div",{className:"header",children:[Object(Pe.jsx)("div",{className:"header__left",children:t.isMobile&&Object(Pe.jsx)(Ie,{type:"open"})}),Object(Pe.jsx)("div",{className:"header__middle"}),Object(Pe.jsx)("div",{className:"header__right",children:Object(Pe.jsx)(Se.AlertTriangle,{size:42,color:"#ddd"})})]})}))),Ae=(n(1351),n(1352),function(e){var t=e.name,n=e.status;return Object(Pe.jsxs)("div",{className:"server-status is--".concat(n?"active":"inactive"),children:[Object(Pe.jsxs)("div",{className:"server-status__icon",children:[Object(Pe.jsx)(Se.Server,{size:100,color:"#222"}),Object(Pe.jsxs)("div",{className:"server-status__status-icons",children:[Object(Pe.jsx)("div",{className:"server-status__active",children:Object(Pe.jsx)(Se.ThumbUp,{size:42,color:"green"})}),Object(Pe.jsx)("div",{className:"server-status__inactive",children:Object(Pe.jsx)(Se.AlertTriangle,{size:42,color:"red"})})]})]}),Object(Pe.jsx)("div",{className:"",children:t})]})}),Me=(n(1353),Object(i.b)((function(e){return{server:e.server}}))((function(e){var t=e.server;return Object(Pe.jsxs)("div",{className:"control-panel-status",children:[Object(Pe.jsx)(Ae,{name:"MQTT",status:t.MQTT.isConnected&&t.WEBSERVER.isConnected}),Object(Pe.jsx)(Ae,{name:"WEBSERVER",status:t.WEBSERVER.isConnected})]})}))),Le=(n(1354),Object(i.b)((function(e){return{socket:e.server.WEBSERVER.socket}}),(function(e){return{handleAuthenticateUser:function(t){e(function(e){return{type:q,payload:e}}(t))}}}))((function(e){e.socket;var t=e.handleAuthenticateUser;return Object(Pe.jsx)("div",{className:"control-panel__authentication",children:Object(Pe.jsx)("input",{type:"password",onChange:function(e){t(e.currentTarget.value)},placeholder:"Password..."})})}))),ke=(n(1355),Object(i.b)(null,(function(e){return{handlePublishTopic:function(t){e(m(t))}}}))((function(e){var t=e.handlePublishTopic,n=Object(c.useRef)(),r=Object(c.useRef)();return Object(Pe.jsxs)("div",{className:"control-panel-publish",children:[Object(Pe.jsx)("input",{ref:n,className:"control-panel-publish__topic",placeholder:"Topic...",onChange:function(e){e.currentTarget.value=e.currentTarget.value.trim()}}),Object(Pe.jsx)("textarea",{ref:r,className:"control-panel-publish__message",placeholder:"Message...",onChange:function(e){var t=e.currentTarget.value;try{var n=JSON.parse(t);e.currentTarget.value=JSON.stringify(n,null,2)}catch(c){}}}),Object(Pe.jsx)("button",{className:"control-panel-publish__submit",onClick:function(){var e=r.current.value;try{e=JSON.stringify(JSON.parse(r.current.value))}catch(c){}t({name:n.current.value,value:e})},children:"Publish"})]})}))),He=(n(1356),Object(i.b)(null,(function(e){return{handleConstructorOpen:function(){e({type:U})}}}))((function(e){var t=e.handleConstructorOpen;return Object(Pe.jsx)(Pe.Fragment,{children:Object(Pe.jsxs)("div",{className:"control-panel__add-btn add-btn",onClick:function(){t()},children:[Object(Pe.jsx)("div",{className:"add-btn__text",children:"Add Field"}),Object(Pe.jsx)("div",{className:"add-btn__icon",children:Object(Pe.jsx)(Se.Plus,{size:28})})]})})}))),Ue=(n(1357),Object(i.b)((function(e){return{server:e.server}}))((function(e){var t=e.server;return Object(Pe.jsx)("div",{className:"control-panel-administration hide-scrollbar",children:t.WEBSERVER.isAdmin?Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsx)(ke,{}),Object(Pe.jsx)(He,{})]}):Object(Pe.jsx)(Le,{})})}))),We=Object(i.b)((function(e){return{controlPanel:e.general.controlPanel,screen:e.general.screen}}))((function(e){var t=e.controlPanel,n=e.screen;return Object(Pe.jsxs)("div",{className:function(){var e=["control-panel","hide-scrollbar"];return t.isOpen&&e.push("is--active"),e.join(" ")}(),children:[Object(Pe.jsx)("div",{className:"control-panel__header",children:n.isMobile&&Object(Pe.jsx)(Ie,{type:"close",color:"#333"})}),Object(Pe.jsx)(Me,{}),Object(Pe.jsx)(Ue,{})]})})),Be=n(22),Ve=n(71),ze=(n(1358),n(1359),function(e){var t=e.value;return Object(Pe.jsx)(Pe.Fragment,{children:t})}),Qe=Object(i.b)(null,(function(e){return{handleCreateTopic:function(t){e(x(t))},handleConstructorClose:function(t){e(V())}}}))((function(e){var t=e.handleCreateTopic,n=e.handleConstructorClose,r=Object(c.useRef)();return Object(Pe.jsxs)("div",{className:"topic-constructor",children:[Object(Pe.jsx)("div",{className:"_name","data-type":"string",children:Object(Pe.jsxs)("label",{children:[Object(Pe.jsx)("span",{children:"Topic Name : "}),Object(Pe.jsx)("input",{ref:r,type:"text",placeholder:"string"})]})}),Object(Pe.jsx)("button",{onClick:function(){""!=r.current.value.trim()&&-1==r.current.value.trim().indexOf(" ")&&(t({name:r.current.value,type:"text"}),n(),r.current.value="")},children:"Create"})]})})),Je=function(e){var t=e.value;return Object(Pe.jsx)("pre",{children:function(){var e=JSON.stringify(t,null,1);try{e=JSON.stringify(JSON.parse(t),null,1)}catch(n){}return e}()})},Ke=Object(i.b)(null,(function(e){return{handleCreateTopic:function(t){e(x(t))},handleConstructorClose:function(t){e(V())}}}))((function(e){var t=e.handleCreateTopic,n=e.handleConstructorClose,r=Object(c.useRef)();return Object(Pe.jsxs)("div",{className:"topic-constructor",children:[Object(Pe.jsx)("div",{className:"_name","data-type":"string",children:Object(Pe.jsxs)("label",{children:[Object(Pe.jsx)("span",{children:"Topic Name : "}),Object(Pe.jsx)("input",{ref:r,type:"text",placeholder:"string"})]})}),Object(Pe.jsx)("button",{onClick:function(){""!=r.current.value.trim()&&-1==r.current.value.trim().indexOf(" ")&&(t({name:r.current.value.trim(),type:"json"}),n(),r.current.value="")},children:"Create"})]})})),Fe=Object(i.b)(null,(function(e){return{handlePublishTopic:function(t){var n=t.name,c=t.value;e(m({name:n,value:c}))}}}))((function(e){var t=e.name,n=e.value,c=e.attributes,r=e.handlePublishTopic;return Object(Pe.jsx)("button",{onClick:function(){var e=c.values[(c.values.indexOf("".concat(n))+1)%c.values.length];r({name:t,value:e})},children:n})})),Ge=Object(i.b)(null,(function(e){return{handleCreateTopic:function(t){e(x(t))},handleConstructorClose:function(t){e(V())}}}))((function(e){var t=e.handleCreateTopic,n=e.handleConstructorClose,r=Object(c.useRef)(),a=Object(c.useRef)();return Object(Pe.jsxs)("div",{className:"topic-constructor",children:[Object(Pe.jsx)("div",{className:"_name","data-type":"string",children:Object(Pe.jsxs)("label",{children:[Object(Pe.jsx)("span",{children:"Topic Name : "}),Object(Pe.jsx)("input",{ref:r,type:"text",placeholder:"string"})]})}),Object(Pe.jsxs)("div",{className:"_attribute","data-type":"object",children:["Attributes",Object(Pe.jsx)("div",{className:"_min","data-type":"number",children:Object(Pe.jsxs)("label",{children:[Object(Pe.jsx)("span",{children:"Click Value : "}),Object(Pe.jsx)("input",{ref:a,type:"text",placeholder:"array"})]})})]}),Object(Pe.jsx)("button",{onClick:function(){""!=r.current.value.trim()&&-1==r.current.value.trim().indexOf(" ")&&""!=a.current.value.trim()&&(console.log(a.current.value.split(",")),t({name:r.current.value,type:"switch",attributes:{values:a.current.value.split(",")}}),n(),r.current.value="")},children:"Create"})]})})),qe=Object(i.b)(null,(function(e){return{handlePublishTopic:function(t){var n=t.name,c=t.value;e(m({name:n,value:c}))}}}))((function(e){var t=e.name,n=e.value,c=e.attributes,r=e.handlePublishTopic;return Object(Pe.jsx)("button",{onClick:function(){r({name:t,value:c.value||"BUTTON_CLICK"})},children:n})})),Xe=Object(i.b)(null,(function(e){return{handleCreateTopic:function(t){e(x(t))},handleConstructorClose:function(t){e(V())}}}))((function(e){var t=e.handleCreateTopic,n=e.handleConstructorClose,r=Object(c.useRef)(),a=Object(c.useRef)();return Object(Pe.jsxs)("div",{className:"topic-constructor",children:[Object(Pe.jsx)("div",{className:"_name","data-type":"string",children:Object(Pe.jsxs)("label",{children:[Object(Pe.jsx)("span",{children:"Topic Name : "}),Object(Pe.jsx)("input",{ref:r,type:"text",placeholder:"string"})]})}),Object(Pe.jsxs)("div",{className:"_attribute","data-type":"object",children:["Attributes",Object(Pe.jsx)("div",{className:"_min","data-type":"number",children:Object(Pe.jsxs)("label",{children:[Object(Pe.jsx)("span",{children:"Click Value : "}),Object(Pe.jsx)("input",{ref:a,type:"text",placeholder:"string",defaultValue:"true"})]})})]}),Object(Pe.jsx)("button",{onClick:function(){""!=r.current.value.trim()&&-1==r.current.value.trim().indexOf(" ")&&""!=a.current.value.trim()&&-1==a.current.value.trim().indexOf(" ")&&(t({name:r.current.value,type:"button",attributes:{value:a.current.value}}),n(),r.current.value="")},children:"Create"})]})})),Ye=500,Ze=500,$e={cold:{r:51,g:102,b:204},warm:{r:193,g:49,b:49},current:function(e){var t=e.value,n=e.min,c=e.max,r=ct(t,n,c,this.cold.r,this.warm.r),a=ct(t,n,c,this.cold.g,this.warm.g),i=ct(t,n,c,this.cold.b,this.warm.b);return"rgb(".concat(r,", ").concat(a,", ").concat(i,")")}},et={outer:{top:71.42857142857143,bottom:400-Math.sin(.33*Math.PI)*Ye/7-Math.sin(.33*Math.PI)*Ye/9/3,left:250-Math.cos(.33*Math.PI)*Ye/7,right:250+Math.cos(.33*Math.PI)*Ye/7},inner:{top:71.42857142857143,bottom:400-Math.sin(.37*Math.PI)*Ye/9,left:250-Math.cos(.37*Math.PI)*Ye/9,right:250+Math.cos(.37*Math.PI)*Ye/9},temp:{x:250,y:400}},tt={min:et.inner.bottom-et.outer.bottom,max:et.inner.bottom-et.inner.top},nt=function(e){var t=e.value,n=void 0===t?0:t,r=e.attributes,a=void 0===r?{min:-20,max:50}:r,i=Object(c.useRef)(null),o=function(){i.current.getContext("2d").clearRect(0,0,Ye,Ze),function(){var e=i.current.getContext("2d"),t=71.42857142857143,n=Math.cos(.33*Math.PI)*t,c=Math.sin(.33*Math.PI)*t,r=Math.cos(1.33*Math.PI)*t;e.save(),e.lineWidth=3,e.beginPath(),e.arc(250,400,t,-.33*Math.PI,1.33*Math.PI),e.lineTo(250-n,c),e.stroke(),e.beginPath(),e.arc(250,c,n,1*Math.PI,2*Math.PI),e.lineTo(250-r,400-c),e.stroke()}(),function(){var e=i.current.getContext("2d");e.save(),e.fillStyle=$e.current({value:n,min:a.min,max:a.max}),e.lineWidth=3,e.beginPath(),e.arc(250,400,55.55555555555556,-.37*Math.PI,1.37*Math.PI),e.fill();var t=ct(n,a.min,a.max,tt.min,tt.max);t>tt.max&&(t=tt.max),e.fillRect(et.inner.left,et.inner.bottom,et.inner.right-et.inner.left,-t),e.restore()}(),function(){var e=i.current.getContext("2d"),t=55.55555555555556,n=Math.cos(.37*Math.PI)*t,c=Math.sin(.37*Math.PI)*t,r=Math.cos(1.37*Math.PI)*t;e.beginPath(),e.arc(250,400,t,-.37*Math.PI,1.37*Math.PI),e.lineTo(250-n,71.42857142857143),e.stroke(),e.beginPath(),e.arc(250,71.42857142857143,n,1*Math.PI,2*Math.PI),e.lineTo(250-r,400-c),e.stroke(),e.restore()}(),function(){for(var e=i.current.getContext("2d"),t=(Math.abs(a.min)+Math.abs(a.max))/10,n=0;n<=t;n++){var c=ct(a.min+10*n,a.min,a.max,et.outer.bottom,et.outer.top),r=rt(a.min+10*n);e.fillRect(et.outer.right-5,c,10,1),e.fillRect(et.outer.left-5,c,10,1),e.save(),e.textAlign="center",e.textBaseline="middle",e.font="20px Arial",e.fillText(a.min+10*n+" C",et.outer.right+40,c),e.fillText(r+" F",et.outer.left-40,c),e.restore()}e.fillRect(et.outer.left-5,et.outer.top,10,1),e.fillRect(et.outer.left-5,et.outer.bottom,10,1)}(),function(){var e=i.current.getContext("2d");e.save(),e.textAlign="center",e.textBaseline="middle",e.fillStyle="white",e.font="30px Arial",e.fillText(Math.round(n),et.temp.x,et.temp.y),e.restore()}()};return Object(c.useEffect)((function(){try{if("number"!=_(parseInt(n)))return;o()}catch(e){}}),[n,a]),Object(c.useEffect)((function(){i.current.width=Ye,i.current.height=Ze,o()}),[i]),Object(Pe.jsx)("canvas",{ref:i,className:"thermometer"})},ct=function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;return(e-t)*(r-c)/(n-t)+c},rt=function(e){return 1.8*e+32},at=Object(i.b)(null,(function(e){return{handleCreateTopic:function(t){e(x(t))},handleConstructorClose:function(t){e(V())}}}))((function(e){var t=e.handleCreateTopic,n=e.handleConstructorClose,r=Object(c.useRef)(),a=Object(c.useRef)(),i=Object(c.useRef)();return Object(Pe.jsxs)("div",{className:"topic-constructor",children:[Object(Pe.jsx)("div",{className:"_name","data-type":"string",children:Object(Pe.jsxs)("label",{children:[Object(Pe.jsx)("span",{children:"Topic Name : "}),Object(Pe.jsx)("input",{ref:r,type:"text",placeholder:"string"})]})}),Object(Pe.jsxs)("div",{className:"_attribute","data-type":"object",children:["Attributes",Object(Pe.jsx)("div",{className:"_min","data-type":"number",children:Object(Pe.jsxs)("label",{children:[Object(Pe.jsx)("span",{children:"Min : "}),Object(Pe.jsx)("input",{ref:a,type:"number",placeholder:"number",defaultValue:"-20"})]})}),Object(Pe.jsx)("div",{className:"_max","data-type":"number",children:Object(Pe.jsxs)("label",{children:[Object(Pe.jsx)("span",{children:"Max : "}),Object(Pe.jsx)("input",{ref:i,type:"number",placeholder:"number",defaultValue:"50"})]})})]}),Object(Pe.jsx)("button",{onClick:function(){""!=r.current.value.trim()&&-1==r.current.value.trim().indexOf(" ")&&-1==a.current.value.indexOf(" ")&&-1==i.current.value.indexOf(" ")&&(t({name:r.current.value,type:"thermometer",attributes:{min:a.current.value,max:i.current.value}}),n(),r.current.value="")},children:"Create"})]})})),it=(n(1360),{text:Object(Pe.jsx)(Qe,{}),json:Object(Pe.jsx)(Ke,{}),button:Object(Pe.jsx)(Xe,{}),switch:Object(Pe.jsx)(Ge,{}),thermometer:Object(Pe.jsx)(at,{})}),ot=Object(i.b)((function(e){return{isOpen:e.general.field_constructor.isOpen}}),(function(e){return{handleConstructorClose:function(){e(V())}}}))((function(e){var t=e.isOpen,n=e.handleConstructorClose,r=Object(c.useRef)(),a=Object(c.useState)("text"),i=Object(Be.a)(a,2),o=i[0],s=i[1],u=function(e){t&&"Escape"==e.code&&n()};return Object(c.useEffect)((function(){return window.addEventListener("keyup",u),function(){window.removeEventListener("keyup",u)}}),[]),Object(Pe.jsx)("div",{className:function(){var e=["topic-constructor__container"];return t&&e.push("is--active"),e.join(" ")}(),children:Object(Pe.jsxs)("div",{className:"topic-constructor__block",children:[Object(Pe.jsx)("div",{className:"topic-constructor__close",onClick:function(){n()},children:Object(Pe.jsx)(Se.SquareX,{size:30,color:"#333"})}),"Type :",Object(Pe.jsx)("select",{ref:r,onChange:function(){s(r.current.options[r.current.selectedIndex].value)},children:Object.keys(it).map((function(e,t){return Object(Pe.jsx)("option",{value:e,children:e},"type-".concat(t))}))}),o&&it[o]]})})})),st=Object(i.b)(null,(function(e){return{handleDeleteTopic:function(t){e(function(e){return{type:E,payload:e}}(t))}}}))((function(e){var t=e.name,n=e.value,c=e.type,r=e.attributes,a=e.handleDeleteTopic;return Object(Pe.jsxs)("div",{className:"topic topic--".concat(c),children:[Object(Pe.jsx)("div",{className:"topic__delete",onClick:function(){window.confirm("Delete topic '".concat(t,"' of type '").concat(c,"'"))&&a({name:t,type:c})},children:Object(Pe.jsx)(Se.Trash,{size:20,color:"#dd6c75"})}),Object(Pe.jsxs)("div",{className:"topic__content hide-scrollbar",children:["text"===c&&Object(Pe.jsx)(ze,{value:n}),"json"===c&&Object(Pe.jsx)(Je,{value:n}),"switch"===c&&Object(Pe.jsx)(Fe,{name:t,value:n,attributes:r}),"button"===c&&Object(Pe.jsx)(qe,{name:t,value:n,attributes:r}),"thermometer"===c&&Object(Pe.jsx)(nt,{name:t,value:n,attributes:r})]})]})})),ut=Object(i.b)((function(e){return{topics:e.topics}}))((function(e){var t=e.topics,n=Object(c.useRef)(),r=Object(c.useState)(4),a=Object(Be.a)(r,2),i=a[0],o=a[1],s=function(){var e=n.current.getBoundingClientRect().width,t=e/250-parseInt(e/250)>.5?1:0,c=parseInt(e/250)+t;o(c||1)};Object(c.useEffect)((function(){return window.addEventListener("resize",s),s(),function(){window.removeEventListener("resize",s)}}));return Object(Pe.jsx)("div",{ref:n,className:"topics-container hide-scrollbar",children:Object(Pe.jsx)(Ve.a,{shapes:t.map((function(e,t){return{component:Object(Pe.jsx)(st,Object(g.a)({},e),"topic-".concat(e.name,"-").concat(t))}})),weight:i,spacing:5,debug:!0})})})),lt=(n(1361),Object(i.b)((function(e){return{screen:e.general.screen,field_constructor:e.general.field_constructor}}),(function(e){return{handleScreenToMobile:function(){e({type:P})},handleScreenToDesktop:function(){e({type:D})}}}))((function(e){var t=e.screen,n=e.field_constructor,r=e.handleScreenToMobile,a=e.handleScreenToDesktop,i=function(){null===t.isMobile&&(window.innerWidth>767?a():r()),t.isMobile&&window.innerWidth>767&&a(),t.isMobile||window.innerWidth<768&&r()};Object(c.useEffect)((function(){return i(),window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}}));return Object(Pe.jsxs)("div",{className:function(){var e=["layout"];return n.isOpen&&e.push.apply(e,["hide-overflow","is--constructor-open"]),e.join(" ")}(),children:[Object(Pe.jsx)(De,{}),Object(Pe.jsx)(We,{}),Object(Pe.jsx)(ut,{}),Object(Pe.jsx)(ot,{})]})}))),bt=(n(1362),n(72)),dt=Object(i.b)((function(e){return{}}),(function(e){return{handleWebserverSocketInit:function(t){e(function(e){return{type:Y,payload:e}}(t))},handleWebserverConnected:function(){e({type:$})},handleWebserverDiconnected:function(){e({type:te})},handleDispatchAction:function(t){e(function(e){return{type:ie,payload:e}}(t))}}}))((function(e){var t=e.handleWebserverSocketInit,n=e.handleWebserverConnected,r=e.handleWebserverDiconnected,a=e.handleDispatchAction;return Object(c.useEffect)((function(){var e=Object(bt.io)("https://192.168.1.202:1994");t({socket:e}),e.on("connect",n),e.on("disconnect",r),e.on(ie,(function(e){a(e)}))}),[]),null})),jt=(n(1393),"start "+Object(R.a)(new Array(100)).map((function(e){return"test"})).join(" ")),pt=(Object(i.b)((function(e){return{temp:e.topics.find((function(e){return"temperature"==e.name&&"thermometer"==e.type}))}}),(function(e){return{handleDispatch:function(t){e(t)},handleUpdateTemp:function(t){e({type:O,payload:t})}}}))((function(e){var t=e.temp,n=e.handleDispatch,r=e.handleUpdateTemp,a=Object(c.useState)(0),i=Object(Be.a)(a,2),o=i[0],s=i[1],u=function(){s(window.innerWidth)};Object(c.useEffect)((function(){return u(),window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}}));Object(c.useEffect)((function(){n({type:b,payload:[{name:"text",value:jt,type:"text"},{name:"json",value:{test:"test"},type:"json"},{name:"switch",value:"0",type:"switch",attributes:{values:["0","1"]}},{name:"button",value:"test",type:"button",attributes:{value:"1"}},{name:"temperature",value:"10",type:"thermometer",attributes:{min:-20,max:50}}]}),setTimeout((function(){n({type:j,payload:{name:"text",value:jt,type:"text"}})}),2e3)}),[]);return Object(c.useEffect)((function(){var e=setInterval((function(){t&&null!=t.value&&r({name:"temperature",value:t.value+(10*Math.random()-5)})}),1e3);return function(){clearInterval(e)}}),[]),Object(Pe.jsx)("div",{className:"debug-block",children:o})})),function(){return Object(Pe.jsxs)(i.a,{store:we,children:[!1,Object(Pe.jsx)(lt,{}),Object(Pe.jsx)(dt,{})]})}),Ot=document.getElementById("root");a.a.render(Object(Pe.jsx)(c.StrictMode,{children:Object(Pe.jsx)(pt,{})}),Ot)},85:function(e,t,n){},86:function(e,t,n){}},[[1394,1,2]]]);
//# sourceMappingURL=main.3c8fa2f5.chunk.js.map
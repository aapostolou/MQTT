(this.webpackJsonpmqtt=this.webpackJsonpmqtt||[]).push([[0],{1321:function(e,t,n){},1322:function(e,t,n){},1323:function(e,t,n){},1324:function(e,t,n){},1325:function(e,t,n){},1326:function(e,t,n){},1327:function(e,t,n){},1328:function(e,t,n){},1329:function(e,t,n){},1330:function(e,t,n){},1331:function(e,t,n){},1332:function(e,t,n){},1333:function(e,t,n){},1334:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(21),a=n.n(r),i=n(2),o=n(40),s=n(44),u=n(1337),l="TOPIC_INIT",b="HANDLE_TOPICS_INIT",j="TOPIC_ADD",d="HANDLE_TOPIC_ADD",p="TOPIC_UPDATE",O="HANDLE_TOPIC_UPDATE",f="TOPIC_REMOVE",h="HANDLE_TOPIC_REMOVE",v="PUBLISH_TOPIC",m=function(e){return{type:v,payload:e}},x="HANDLE_CREATE_TOPIC",y=function(e){return{type:x,payload:e}},C=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},_=function(e){return null==e.name?"Topic is missing a 'name'":"string"!==C(e.name)?"Topic 'name' is not a 'string'":null!=!e.type||"Topic is missing a 'type'"},T=Object(u.a)((function(e){return e.pipe(Object(s.a)(b),Object(o.a)((function(e){var t=e.payload;if(void 0==t)throw"".concat(b," ~ 'payload' is not set !");if("array"==!C(t))throw"".concat(b," ~ 'payload' must be an 'array' of 'Topic' objects !");return t.forEach((function(e){if(!0!==_(e))throw"".concat(b," ~ ").concat(_(e))})),{type:l,payload:t}})))}),(function(e,t){return e.pipe(Object(s.a)(d),Object(o.a)((function(e){var n=e.payload;if(void 0==n)throw"".concat(d," ~ 'payload' is not set !");if("object"==!C(n))throw"".concat(d," ~ 'payload' must be a 'Topic' object !");if(!0!==_(n))throw"".concat(d," ~ ").concat(_(n));return t.value.topics.find((function(e){return e.name===n.name&&e.type===n.type}))?{type:"ABORT_TOPIC_ADD",payload:{response:"Topic already exists."}}:{type:j,payload:n}})))}),(function(e){return e.pipe(Object(s.a)(O),Object(o.a)((function(e){var t=e.payload;if(void 0==t)throw"".concat(O," ~ 'payload' is not set !");if("object"===!C(t))throw"".concat(O," ~ 'payload' must be a 'Topic' object !");if(null==t.name)throw"".concat(O," ~ 'payload' is missing a 'name' !");if("string"===!C(t.name))throw"".concat(O," ~ 'payload.name' must be a 'string' !");if(null==t.value)throw"".concat(O," ~ 'payload' is missing a 'value' !");var n=t.name,c=t.value;return{type:p,payload:{name:n,value:c}}})))}),(function(e){return e.pipe(Object(s.a)(h),Object(o.a)((function(e){var t=e.payload;if(void 0==t)throw"".concat(h," ~ 'payload' is not set !");if("string"!==C(t))throw"".concat(h," ~ 'payload' must be a 'string' !");return{type:f,payload:t}})))})),E=n(4),N=n(31),g=[],w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return t.payload;case j:return[].concat(Object(N.a)(e),[t.payload]);case p:return e.map((function(e){var n=t.payload;return e.name!=n.name?e:Object(E.a)(Object(E.a)({},e),{},{value:n.value})}));case f:var n=t.payload;return e.filter((function(e){return e.name===n.name||!n.type||e.type!==n.type}));default:return e}},P="AUTHENTICATE_USER",M="HANDLE_AUTHENTICATE_USER",R="WEBSERVER_CONNECTED",I="WEBSERVER_DISCONNECTED",S="MQTT_CONNECTED",A="MQTT_DISCONNECTED",D=Object(u.a)((function(e){return e.pipe(Object(s.a)(v),Object(o.a)((function(e){var t=e.payload;if(void 0==t)throw"".concat(v," ~ 'payload' is not set !");if(null==t.name)throw"".concat(v," ~ 'payload' is missing a 'name' !");if("string"===!C(t.name))throw"".concat(v," ~ 'payload.name' must be a 'string' !");if(null==t.value)throw"".concat(v," ~ 'payload' is missing a 'value' !");return{type:O,payload:t}})))}),(function(e){return e.pipe(Object(s.a)(M),Object(o.a)((function(e){var t=e.payload;if(void 0==t)throw"".concat(M," ~ 'payload' is not set !");return 3164975==t?{type:P,payload:t}:{type:"SENDING_AUTHENTICATION_REQUEST_TO_SERVER"}})))}),(function(e){return e.pipe(Object(s.a)("HANDLE_MQTT_CONNECTED"),Object(o.a)((function(e){return{type:S}})))}),(function(e){return e.pipe(Object(s.a)("HANDLE_MQTT_DISCONNECTED"),Object(o.a)((function(e){return{type:A}})))}),(function(e){return e.pipe(Object(s.a)("HANDLE_WEBSERVER_CONNECTED"),Object(o.a)((function(e){return{type:R}})))}),(function(e){return e.pipe(Object(s.a)("HANDLE_WEBSERVER_DISCONNECTED"),Object(o.a)((function(e){return{type:I}})))}),(function(e){return e.pipe(Object(s.a)(x),Object(o.a)((function(e){var t=e.payload;if(void 0==t)throw"".concat(x," ~ 'payload' is not set !");if(null==t.name)throw"".concat(x," ~ 'payload' is missing a 'name' !");if("string"===!C(t.name))throw"".concat(x," ~ 'payload.name' must be a 'string' !");if(null==t.type)throw"".concat(x," ~ 'payload' is missing a 'type' !");return{type:d,payload:t}})))})),L=n(9),k={isConnected:!1},U={isConnected:!1,isAdmin:!1},H=Object(L.combineReducers)({MQTT:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(E.a)(Object(E.a)({},e),{},{isConnected:!0});case A:return Object(E.a)(Object(E.a)({},e),{},{isConnected:!1});default:return e}},WEBSERVER:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(E.a)(Object(E.a)({},e),{},{isConnected:!0});case I:return Object(E.a)(Object(E.a)({},e),{},{isConnected:!1});case P:return Object(E.a)(Object(E.a)({},e),{},{isAdmin:!0});default:return e}}}),B="SCREEN_UPDATE_TO_MOBILE",V="HANDLE_SCREEN_UPDATE_TO_MOBILE",W="SCREEN_UPDATE_TO_DESKTOP",z="HANDLE_SCREEN_UPDATE_TO_DESKTOP",J="CONTROL_PANEL_OPEN",Q="HANDLE_CONTROL_PANEL_OPEN",F="CONTROL_PANEL_CLOSE",K="HANDLE_CONTROL_PANEL_CLOSE",q="CONSTRUCTOR_OPEN",G="HANDLE_CONSTRUCTOR_OPEN",X="CONSTRUCTOR_CLOSE",Y="HANDLE_CONSTRUCTOR_CLOSE",Z=function(){return{type:Y}},$=Object(u.a)((function(e){return e.pipe(Object(s.a)(z),Object(o.a)((function(e){return{type:W}})))}),(function(e){return e.pipe(Object(s.a)(V),Object(o.a)((function(e){return{type:B}})))}),(function(e){return e.pipe(Object(s.a)(Q),Object(o.a)((function(e){return{type:J}})))}),(function(e){return e.pipe(Object(s.a)(K),Object(o.a)((function(e){return{type:F}})))}),(function(e){return e.pipe(Object(s.a)(G),Object(o.a)((function(e){return{type:q}})))}),(function(e){return e.pipe(Object(s.a)(Y),Object(o.a)((function(e){return{type:X}})))})),ee={isMobile:null},te={isOpen:!1},ne={isOpen:!1},ce=Object(L.combineReducers)({screen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(E.a)(Object(E.a)({},e),{},{isMobile:!0});case W:return Object(E.a)(Object(E.a)({},e),{},{isMobile:!1});default:return e}},controlPanel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(E.a)(Object(E.a)({},e),{},{isOpen:!0});case F:return Object(E.a)(Object(E.a)({},e),{},{isOpen:!1});default:return e}},field_constructor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(E.a)(Object(E.a)({},e),{},{isOpen:!0});case X:return Object(E.a)(Object(E.a)({},e),{},{isOpen:!1});default:return e}}}),re={name:{_type:"string"},value:{_type:"string"}},ae=Object(E.a)({},re),ie=Object(E.a)({},re),oe=Object(E.a)(Object(E.a)({},re),{},{attributes:{value:{_type:"string",_default:"BUTTON_CLICK"}}}),se=Object(E.a)(Object(E.a)({},re),{},{attributes:{values:{_type:"array",_of:"string",_default:[]}}}),ue=Object(E.a)(Object(E.a)({},re),{},{attributes:{min:{_type:"number",_default:"-20"},max:{_type:"number",_default:"50"}}}),le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:ae,json:ie,button:oe,swithc:se,thermometer:ue};return e},be=n(41),je=n(1336),de=Object(je.a)(),pe=Object(L.combineReducers)({topics:w,server:H,general:ce,fields:le}),Oe=Object(u.a)(T,D,$),fe=Object(L.createStore)(pe,Object(be.composeWithDevTools)(Object(L.applyMiddleware)(de)));de.run(Oe);n(56);var he=n(10),ve=(n(57),n(1)),me=Object(i.b)((function(e){return{isOpen:e.general.controlPanel.isOpen}}),(function(e){return{handleControlPanelOpen:function(){e({type:Q})},handleControlPanelClose:function(){e({type:K})}}}))((function(e){var t=e.type,n=void 0===t?"open":t,c=e.color,r=e.size,a=void 0===r?42:r,i=e.isOpen,o=e.handleControlPanelOpen,s=e.handleControlPanelClose;return Object(ve.jsxs)("div",{className:"control-panel__button btn--".concat(n),style:{width:a,height:a},onClick:function(){"open"==n&&o(),"close"==n&&s(),"toggle"==n&&(i?s():o())},children:["open"==n&&Object(ve.jsx)(he.Settings,{size:a,color:c||"var(--color-blue)"}),"close"==n&&Object(ve.jsx)(he.ChevronsLeft,{size:42,color:c||"#222"})]})})),xe=(n(1321),Object(i.b)((function(e){return{screen:e.general}}))((function(e){var t=e.screen;return Object(ve.jsxs)("div",{className:"header",children:[Object(ve.jsx)("div",{className:"header__left",children:t.isMobile&&Object(ve.jsx)(me,{type:"open"})}),Object(ve.jsx)("div",{className:"header__middle"}),Object(ve.jsx)("div",{className:"header__right",children:Object(ve.jsx)(he.AlertTriangle,{size:42,color:"#ddd"})})]})}))),ye=(n(1322),n(1323),function(e){var t=e.name,n=e.status;return Object(ve.jsxs)("div",{className:"server-status is--".concat(n?"active":"inactive"),children:[Object(ve.jsxs)("div",{className:"server-status__icon",children:[Object(ve.jsx)(he.Server,{size:100,color:"#222"}),Object(ve.jsxs)("div",{className:"server-status__status-icons",children:[Object(ve.jsx)("div",{className:"server-status__active",children:Object(ve.jsx)(he.ThumbUp,{size:42,color:"green"})}),Object(ve.jsx)("div",{className:"server-status__inactive",children:Object(ve.jsx)(he.AlertTriangle,{size:42,color:"red"})})]})]}),Object(ve.jsx)("div",{className:"",children:t})]})}),Ce=(n(1324),Object(i.b)((function(e){return{server:e.server}}))((function(e){var t=e.server;return Object(ve.jsxs)("div",{className:"control-panel-status",children:[Object(ve.jsx)(ye,{name:"MQTT",status:t.MQTT.isConnected}),Object(ve.jsx)(ye,{name:"WEBSERVER",status:t.WEBSERVER.isConnected})]})}))),_e=(n(1325),Object(i.b)(null,(function(e){return{handleAuthenticateUser:function(t){e(function(e){return{type:M,payload:e}}(t))}}}))((function(e){var t=e.handleAuthenticateUser;return Object(ve.jsx)("div",{className:"control-panel__authentication",children:Object(ve.jsx)("input",{type:"password",onChange:function(e){t(e.currentTarget.value)},placeholder:"Password..."})})}))),Te=(n(1326),Object(i.b)(null,(function(e){return{handlePublishTopic:function(t){e(m(t))}}}))((function(e){var t=e.handlePublishTopic,n=Object(c.useRef)(),r=Object(c.useRef)();return Object(ve.jsxs)("div",{className:"control-panel-publish",children:[Object(ve.jsx)("input",{ref:n,className:"control-panel-publish__topic",placeholder:"Topic...",onChange:function(e){e.currentTarget.value=e.currentTarget.value.trim()}}),Object(ve.jsx)("textarea",{ref:r,className:"control-panel-publish__message",placeholder:"Message...",onChange:function(e){var t=e.currentTarget.value;try{var n=JSON.parse(t);e.currentTarget.value=JSON.stringify(n,null,2)}catch(c){}}}),Object(ve.jsx)("button",{className:"control-panel-publish__submit",onClick:function(){var e=r.current.value;try{e=JSON.stringify(JSON.parse(r.current.value))}catch(c){}t({name:n.current.value,value:e})},children:"Publish"})]})}))),Ee=(n(1327),Object(i.b)(null,(function(e){return{handleConstructorOpen:function(){e({type:G})}}}))((function(e){var t=e.handleConstructorOpen;return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("div",{className:"control-panel__add-btn add-btn",onClick:function(){t()},children:[Object(ve.jsx)("div",{className:"add-btn__text",children:"Add Field"}),Object(ve.jsx)("div",{className:"add-btn__icon",children:Object(ve.jsx)(he.Plus,{size:28})})]})})}))),Ne=(n(1328),Object(i.b)((function(e){return{server:e.server}}))((function(e){var t=e.server;return Object(ve.jsx)("div",{className:"control-panel-administration hide-scrollbar",children:t.WEBSERVER.isAdmin?Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Te,{}),Object(ve.jsx)(Ee,{})]}):Object(ve.jsx)(_e,{})})}))),ge=Object(i.b)((function(e){return{controlPanel:e.general.controlPanel,screen:e.general.screen}}))((function(e){var t=e.controlPanel,n=e.screen;return Object(ve.jsxs)("div",{className:function(){var e=["control-panel","hide-scrollbar"];return t.isOpen&&e.push("is--active"),e.join(" ")}(),children:[Object(ve.jsx)("div",{className:"control-panel__header",children:n.isMobile&&Object(ve.jsx)(me,{type:"close",color:"#333"})}),Object(ve.jsx)(Ce,{}),Object(ve.jsx)(Ne,{})]})})),we=n(16),Pe=n(42),Me=(n(1329),n(1330),function(e){var t=e.value;return Object(ve.jsx)(ve.Fragment,{children:t})}),Re=Object(i.b)(null,(function(e){return{handleCreateTopic:function(t){e(y(t))},handleConstructorClose:function(t){e(Z())}}}))((function(e){var t=e.handleCreateTopic,n=e.handleConstructorClose,r=Object(c.useRef)();return Object(ve.jsxs)("div",{className:"topic-constructor",children:[Object(ve.jsx)("div",{className:"_name","data-type":"string",children:Object(ve.jsxs)("label",{children:[Object(ve.jsx)("span",{children:"Topic Name : "}),Object(ve.jsx)("input",{ref:r,type:"text",placeholder:"string"})]})}),Object(ve.jsx)("button",{onClick:function(){""!=r.current.value.trim()&&-1==r.current.value.trim().indexOf(" ")&&(t({name:r.current.value,type:"text"}),n(),r.current.value="")},children:"Create"})]})})),Ie=function(e){var t=e.value;return Object(ve.jsx)("pre",{children:function(){var e=JSON.stringify(t,null,1);try{e=JSON.stringify(JSON.parse(t),null,1)}catch(n){}return e}()})},Se=Object(i.b)(null,(function(e){return{handleCreateTopic:function(t){e(y(t))},handleConstructorClose:function(t){e(Z())}}}))((function(e){var t=e.handleCreateTopic,n=e.handleConstructorClose,r=Object(c.useRef)();return Object(ve.jsxs)("div",{className:"topic-constructor",children:[Object(ve.jsx)("div",{className:"_name","data-type":"string",children:Object(ve.jsxs)("label",{children:[Object(ve.jsx)("span",{children:"Topic Name : "}),Object(ve.jsx)("input",{ref:r,type:"text",placeholder:"string"})]})}),Object(ve.jsx)("button",{onClick:function(){""!=r.current.value.trim()&&-1==r.current.value.trim().indexOf(" ")&&(t({name:r.current.value.trim(),type:"json"}),n(),r.current.value="")},children:"Create"})]})})),Ae=Object(i.b)(null,(function(e){return{handlePublishTopic:function(t){var n=t.name,c=t.value;e(m({name:n,value:c}))}}}))((function(e){var t=e.name,n=e.value,c=e.attributes,r=e.handlePublishTopic;return Object(ve.jsx)("button",{onClick:function(){var e=c.values[(c.values.indexOf("".concat(n))+1)%c.values.length];r({name:t,value:e})},children:n})})),De=Object(i.b)(null,(function(e){return{handleCreateTopic:function(t){e(y(t))},handleConstructorClose:function(t){e(Z())}}}))((function(e){var t=e.handleCreateTopic,n=e.handleConstructorClose,r=Object(c.useRef)(),a=Object(c.useRef)();return Object(ve.jsxs)("div",{className:"topic-constructor",children:[Object(ve.jsx)("div",{className:"_name","data-type":"string",children:Object(ve.jsxs)("label",{children:[Object(ve.jsx)("span",{children:"Topic Name : "}),Object(ve.jsx)("input",{ref:r,type:"text",placeholder:"string"})]})}),Object(ve.jsxs)("div",{className:"_attribute","data-type":"object",children:["Attributes",Object(ve.jsx)("div",{className:"_min","data-type":"number",children:Object(ve.jsxs)("label",{children:[Object(ve.jsx)("span",{children:"Click Value : "}),Object(ve.jsx)("input",{ref:a,type:"text",placeholder:"array"})]})})]}),Object(ve.jsx)("button",{onClick:function(){""!=r.current.value.trim()&&-1==r.current.value.trim().indexOf(" ")&&""!=a.current.value.trim()&&(console.log(a.current.value.split(",")),t({name:r.current.value,type:"switch",attributes:{values:a.current.value.split(",")}}),n(),r.current.value="")},children:"Create"})]})})),Le=Object(i.b)(null,(function(e){return{handlePublishTopic:function(t){var n=t.name,c=t.value;e(m({name:n,value:c}))}}}))((function(e){var t=e.name,n=e.value,c=e.attributes,r=e.handlePublishTopic;return Object(ve.jsx)("button",{onClick:function(){r({name:t,value:c.value||"BUTTON_CLICK"})},children:n})})),ke=Object(i.b)(null,(function(e){return{handleCreateTopic:function(t){e(y(t))},handleConstructorClose:function(t){e(Z())}}}))((function(e){var t=e.handleCreateTopic,n=e.handleConstructorClose,r=Object(c.useRef)(),a=Object(c.useRef)();return Object(ve.jsxs)("div",{className:"topic-constructor",children:[Object(ve.jsx)("div",{className:"_name","data-type":"string",children:Object(ve.jsxs)("label",{children:[Object(ve.jsx)("span",{children:"Topic Name : "}),Object(ve.jsx)("input",{ref:r,type:"text",placeholder:"string"})]})}),Object(ve.jsxs)("div",{className:"_attribute","data-type":"object",children:["Attributes",Object(ve.jsx)("div",{className:"_min","data-type":"number",children:Object(ve.jsxs)("label",{children:[Object(ve.jsx)("span",{children:"Click Value : "}),Object(ve.jsx)("input",{ref:a,type:"text",placeholder:"string",defaultValue:"true"})]})})]}),Object(ve.jsx)("button",{onClick:function(){""!=r.current.value.trim()&&-1==r.current.value.trim().indexOf(" ")&&""!=a.current.value.trim()&&-1==a.current.value.trim().indexOf(" ")&&(t({name:r.current.value,type:"button",attributes:{value:a.current.value}}),n(),r.current.value="")},children:"Create"})]})})),Ue=500,He=500,Be={cold:{r:51,g:102,b:204},warm:{r:193,g:49,b:49},current:function(e){var t=e.value,n=e.min,c=e.max,r=Je(t,n,c,this.cold.r,this.warm.r),a=Je(t,n,c,this.cold.g,this.warm.g),i=Je(t,n,c,this.cold.b,this.warm.b);return"rgb(".concat(r,", ").concat(a,", ").concat(i,")")}},Ve={outer:{top:71.42857142857143,bottom:400-Math.sin(.33*Math.PI)*Ue/7-Math.sin(.33*Math.PI)*Ue/9/3,left:250-Math.cos(.33*Math.PI)*Ue/7,right:250+Math.cos(.33*Math.PI)*Ue/7},inner:{top:71.42857142857143,bottom:400-Math.sin(.37*Math.PI)*Ue/9,left:250-Math.cos(.37*Math.PI)*Ue/9,right:250+Math.cos(.37*Math.PI)*Ue/9},temp:{x:250,y:400}},We={min:Ve.inner.bottom-Ve.outer.bottom,max:Ve.inner.bottom-Ve.inner.top},ze=function(e){var t=e.value,n=void 0===t?0:t,r=e.attributes,a=void 0===r?{min:-20,max:50}:r,i=Object(c.useRef)(null),o=function(){i.current.getContext("2d").clearRect(0,0,Ue,He),function(){var e=i.current.getContext("2d"),t=71.42857142857143,n=Math.cos(.33*Math.PI)*t,c=Math.sin(.33*Math.PI)*t,r=Math.cos(1.33*Math.PI)*t;e.save(),e.lineWidth=3,e.beginPath(),e.arc(250,400,t,-.33*Math.PI,1.33*Math.PI),e.lineTo(250-n,c),e.stroke(),e.beginPath(),e.arc(250,c,n,1*Math.PI,2*Math.PI),e.lineTo(250-r,400-c),e.stroke()}(),function(){var e=i.current.getContext("2d");e.save(),e.fillStyle=Be.current({value:n,min:a.min,max:a.max}),e.lineWidth=3,e.beginPath(),e.arc(250,400,55.55555555555556,-.37*Math.PI,1.37*Math.PI),e.fill();var t=Je(n,a.min,a.max,We.min,We.max);t>We.max&&(t=We.max),e.fillRect(Ve.inner.left,Ve.inner.bottom,Ve.inner.right-Ve.inner.left,-t),e.restore()}(),function(){var e=i.current.getContext("2d"),t=55.55555555555556,n=Math.cos(.37*Math.PI)*t,c=Math.sin(.37*Math.PI)*t,r=Math.cos(1.37*Math.PI)*t;e.beginPath(),e.arc(250,400,t,-.37*Math.PI,1.37*Math.PI),e.lineTo(250-n,71.42857142857143),e.stroke(),e.beginPath(),e.arc(250,71.42857142857143,n,1*Math.PI,2*Math.PI),e.lineTo(250-r,400-c),e.stroke(),e.restore()}(),function(){for(var e=i.current.getContext("2d"),t=(Math.abs(a.min)+Math.abs(a.max))/10,n=0;n<=t;n++){var c=Je(a.min+10*n,a.min,a.max,Ve.outer.bottom,Ve.outer.top),r=Qe(a.min+10*n);e.fillRect(Ve.outer.right-5,c,10,1),e.fillRect(Ve.outer.left-5,c,10,1),e.save(),e.textAlign="center",e.textBaseline="middle",e.font="20px Arial",e.fillText(a.min+10*n+" C",Ve.outer.right+40,c),e.fillText(r+" F",Ve.outer.left-40,c),e.restore()}e.fillRect(Ve.outer.left-5,Ve.outer.top,10,1),e.fillRect(Ve.outer.left-5,Ve.outer.bottom,10,1)}(),function(){var e=i.current.getContext("2d");e.save(),e.textAlign="center",e.textBaseline="middle",e.fillStyle="white",e.font="30px Arial",e.fillText(Math.round(n),Ve.temp.x,Ve.temp.y),e.restore()}()};return Object(c.useEffect)((function(){try{if("number"!=C(parseInt(n)))return;o()}catch(e){}}),[n,a]),Object(c.useEffect)((function(){i.current.width=Ue,i.current.height=He,o()}),[i]),Object(ve.jsx)("canvas",{ref:i,className:"thermometer"})},Je=function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;return(e-t)*(r-c)/(n-t)+c},Qe=function(e){return 1.8*e+32},Fe=Object(i.b)(null,(function(e){return{handleCreateTopic:function(t){e(y(t))},handleConstructorClose:function(t){e(Z())}}}))((function(e){var t=e.handleCreateTopic,n=e.handleConstructorClose,r=Object(c.useRef)(),a=Object(c.useRef)(),i=Object(c.useRef)();return Object(ve.jsxs)("div",{className:"topic-constructor",children:[Object(ve.jsx)("div",{className:"_name","data-type":"string",children:Object(ve.jsxs)("label",{children:[Object(ve.jsx)("span",{children:"Topic Name : "}),Object(ve.jsx)("input",{ref:r,type:"text",placeholder:"string"})]})}),Object(ve.jsxs)("div",{className:"_attribute","data-type":"object",children:["Attributes",Object(ve.jsx)("div",{className:"_min","data-type":"number",children:Object(ve.jsxs)("label",{children:[Object(ve.jsx)("span",{children:"Min : "}),Object(ve.jsx)("input",{ref:a,type:"number",placeholder:"number",defaultValue:"-20"})]})}),Object(ve.jsx)("div",{className:"_max","data-type":"number",children:Object(ve.jsxs)("label",{children:[Object(ve.jsx)("span",{children:"Max : "}),Object(ve.jsx)("input",{ref:i,type:"number",placeholder:"number",defaultValue:"50"})]})})]}),Object(ve.jsx)("button",{onClick:function(){""!=r.current.value.trim()&&-1==r.current.value.trim().indexOf(" ")&&-1==a.current.value.indexOf(" ")&&-1==i.current.value.indexOf(" ")&&(t({name:r.current.value,type:"thermometer",attributes:{min:a.current.value,max:i.current.value}}),n(),r.current.value="")},children:"Create"})]})})),Ke=(n(1331),{text:Object(ve.jsx)(Re,{}),json:Object(ve.jsx)(Se,{}),button:Object(ve.jsx)(ke,{}),switch:Object(ve.jsx)(De,{}),thermometer:Object(ve.jsx)(Fe,{})}),qe=Object(i.b)((function(e){return{isOpen:e.general.field_constructor.isOpen}}),(function(e){return{handleConstructorClose:function(){e(Z())}}}))((function(e){var t=e.isOpen,n=e.handleConstructorClose,r=Object(c.useRef)(),a=Object(c.useState)("text"),i=Object(we.a)(a,2),o=i[0],s=i[1],u=function(e){t&&"Escape"==e.code&&n()};return Object(c.useEffect)((function(){return window.addEventListener("keyup",u),function(){window.removeEventListener("keyup",u)}}),[]),Object(ve.jsx)("div",{className:function(){var e=["topic-constructor__container"];return t&&e.push("is--active"),e.join(" ")}(),children:Object(ve.jsxs)("div",{className:"topic-constructor__block",children:["Type :",Object(ve.jsx)("select",{ref:r,onChange:function(){s(r.current.options[r.current.selectedIndex].value)},children:Object.keys(Ke).map((function(e,t){return Object(ve.jsx)("option",{value:e,children:e},"type-".concat(t))}))}),o&&Ke[o]]})})})),Ge=function(e){var t=e.name,n=e.value,c=e.type,r=e.attributes;return Object(ve.jsx)("div",{className:"topic topic--".concat(c),children:Object(ve.jsxs)("div",{className:"topic__content hide-scrollbar",children:["text"===c&&Object(ve.jsx)(Me,{value:n}),"json"===c&&Object(ve.jsx)(Ie,{value:n}),"switch"===c&&Object(ve.jsx)(Ae,{name:t,value:n,attributes:r}),"button"===c&&Object(ve.jsx)(Le,{name:t,value:n,attributes:r}),"thermometer"===c&&Object(ve.jsx)(ze,{name:t,value:n,attributes:r})]})})},Xe=Object(i.b)((function(e){return{topics:e.topics}}))((function(e){var t=e.topics,n=Object(c.useRef)(),r=Object(c.useState)(4),a=Object(we.a)(r,2),i=a[0],o=a[1],s=function(){var e=n.current.getBoundingClientRect().width,t=e/250-parseInt(e/250)>.5?1:0,c=parseInt(e/250)+t;o(c||1)};Object(c.useEffect)((function(){return window.addEventListener("resize",s),s(),function(){window.removeEventListener("resize",s)}}));return Object(ve.jsx)("div",{ref:n,className:"topics-container hide-scrollbar",children:Object(ve.jsx)(Pe.a,{shapes:t.map((function(e,t){return{component:Object(ve.jsx)(Ge,Object(E.a)({},e),"topic-".concat(e.name,"-").concat(t))}})),weight:i,spacing:5,debug:!0})})})),Ye=(n(1332),Object(i.b)((function(e){return{screen:e.general.screen,field_constructor:e.general.field_constructor}}),(function(e){return{handleScreenToMobile:function(){e({type:V})},handleScreenToDesktop:function(){e({type:z})}}}))((function(e){var t=e.screen,n=e.field_constructor,r=e.handleScreenToMobile,a=e.handleScreenToDesktop,i=function(){null===t.isMobile&&(window.innerWidth>767?a():r()),t.isMobile&&window.innerWidth>767&&a(),t.isMobile||window.innerWidth<768&&r()};Object(c.useEffect)((function(){return i(),window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}}));return Object(ve.jsxs)("div",{className:function(){var e=["layout"];return n.isOpen&&e.push.apply(e,["hide-overflow","is--constructor-open"]),e.join(" ")}(),children:[Object(ve.jsx)(xe,{}),Object(ve.jsx)(ge,{}),Object(ve.jsx)(Xe,{}),Object(ve.jsx)(qe,{})]})}))),Ze=(n(1333),"start "+Object(N.a)(new Array(100)).map((function(e){return"test"})).join(" ")),$e=(Object(i.b)((function(e){return{temp:e.topics.find((function(e){return"temperature"==e.name&&"thermometer"==e.type}))}}),(function(e){return{handleDispatch:function(t){e(t)},handleUpdateTemp:function(t){e({type:O,payload:t})}}}))((function(e){var t=e.temp,n=e.handleDispatch,r=e.handleUpdateTemp,a=Object(c.useState)(0),i=Object(we.a)(a,2),o=i[0],s=i[1],u=function(){s(window.innerWidth)};Object(c.useEffect)((function(){return u(),window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}}));Object(c.useEffect)((function(){n({type:b,payload:[{name:"text",value:Ze,type:"text"},{name:"json",value:{test:"test"},type:"json"},{name:"switch",value:"0",type:"switch",attributes:{values:["0","1"]}},{name:"button",value:"test",type:"button",attributes:{value:"1"}},{name:"temperature",value:"10",type:"thermometer",attributes:{min:-20,max:50}}]}),setTimeout((function(){n({type:d,payload:{name:"text",value:Ze,type:"text"}})}),2e3)}),[]);return Object(c.useEffect)((function(){var e=setInterval((function(){t&&null!=t.value&&r({name:"temperature",value:t.value+(10*Math.random()-5)})}),1e3);return function(){clearInterval(e)}}),[]),Object(ve.jsx)("div",{className:"debug-block",children:o})})),function(){return Object(ve.jsxs)(i.a,{store:fe,children:[!1,Object(ve.jsx)(Ye,{})]})}),et=document.getElementById("root");a.a.render(Object(ve.jsx)(c.StrictMode,{children:Object(ve.jsx)($e,{})}),et)},56:function(e,t,n){},57:function(e,t,n){}},[[1334,1,2]]]);
//# sourceMappingURL=main.820f89b1.chunk.js.map